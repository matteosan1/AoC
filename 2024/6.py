import time, heapq
from utils import readInput

my_not = []
sol = [(1, 38), (1, 42), (1, 45), (1, 50), (1, 51), (1, 52), (1, 54), (1, 55), (1, 57), (1, 59), (1, 61), (1, 62), (1, 63), (1, 64), (1, 65), (3, 46), (3, 50), (3, 51), (3, 54), (3, 55), (3, 57), (3, 60), (3, 61), (3, 62), (3, 63), (3, 64), (3, 65), (3, 70), (3, 72), (3, 74), (3, 76), (4, 37), (4, 46), (5, 37), (5, 67), (7, 39), (7, 41), (7, 42), (7, 45), (7, 46), (7, 58), (7, 68), (7, 78), (8, 18), (8, 46), (8, 67), (9, 46), (9, 67), (10, 6), (10, 46), (10, 67), (11, 46), (11, 61), (11, 87), (11, 89), (11, 90), (11, 91), (11, 92), (11, 93), (11, 94), (11, 96), (11, 97), (11, 99), (11, 100), (11, 101), (11, 102), (11, 103), (11, 104), (11, 105), (11, 107), (11, 113), (11, 115), (11, 118), (11, 121), (12, 87), (12, 121), (13, 46), (13, 67), (13, 87), (13, 121), (14, 20), (14, 46), (14, 87), (15, 20), (15, 33), (15, 42), (15, 43), (15, 44), (15, 45), (15, 50), (15, 52), (15, 53), (15, 54), (15, 55), (15, 60), (15, 64), (15, 66), (15, 69), (15, 70), (15, 72), (15, 74), (15, 81), (15, 87), (15, 122), (15, 123), (16, 87), (16, 89), (16, 91), (16, 92), (16, 93), (16, 94), (16, 96), (16, 97), (16, 99), (16, 100), (16, 101), (16, 102), (16, 104), (16, 105), (16, 107), (16, 113), (16, 115), (17, 6), (17, 20), (17, 25), (17, 46), (17, 67), (17, 87), (17, 89), (17, 121), (17, 123), (18, 27), (18, 46), (18, 67), (18, 81), (18, 82), (18, 84), (18, 85), (18, 87), (18, 89), (18, 91), (18, 92), (18, 95), (18, 97), (18, 98), (18, 99), (18, 100), (18, 115), (18, 118), (18, 121), (18, 123), (19, 25), (19, 30), (19, 33), (19, 42), (19, 44), (19, 48), (19, 50), (19, 58), (19, 64), (19, 66), (19, 80), (19, 87), (19, 89), (19, 123), (20, 6), (20, 20), (20, 28), (20, 46), (20, 67), (20, 87), (20, 89), (20, 118), (21, 46), (21, 84), (21, 85), (21, 86), (21, 87), (21, 89), (21, 91), (21, 92), (21, 95), (21, 96), (21, 97), (21, 99), (21, 100), (21, 101), (22, 20), (22, 27), (22, 29), (22, 46), (22, 67), (22, 101), (22, 115), (22, 121), (22, 123), (23, 27), (23, 46), (23, 87), (23, 89), (23, 96), (23, 98), (23, 99), (23, 100), (23, 101), (23, 102), (23, 103), (23, 104), (23, 105), (23, 106), (23, 107), (23, 109), (23, 110), (23, 112), (23, 113), (23, 114), (23, 115), (23, 116), (23, 121), (23, 123), (24, 16), (24, 18), (24, 19), (24, 20), (24, 46), (24, 67), (24, 71), (24, 72), (24, 74), (24, 75), (24, 76), (24, 77), (24, 78), (24, 79), (24, 80), (24, 81), (24, 82), (24, 83), (24, 84), (24, 85), (24, 86), (24, 87), (24, 89), (24, 91), (24, 92), (24, 93), (24, 94), (24, 95), (24, 96), (24, 98), (24, 99), (24, 100), (24, 101), (24, 102), (24, 104), (24, 105), (24, 107), (24, 113), (24, 115), (24, 116), (24, 123), (25, 6), (25, 16), (25, 30), (25, 33), (25, 42), (25, 44), (25, 46), (25, 48), (25, 50), (25, 51), (25, 52), (25, 54), (25, 55), (25, 58), (25, 60), (25, 64), (25, 66), (25, 67), (25, 70), (25, 72), (25, 74), (25, 75), (25, 76), (25, 78), (25, 81), (25, 83), (25, 84), (25, 96), (25, 101), (25, 103), (25, 113), (25, 115), (25, 116), (25, 121), (25, 123), (26, 6), (26, 16), (26, 28), (26, 31), (26, 32), (26, 36), (26, 38), (26, 39), (26, 42), (26, 46), (26, 49), (26, 51), (26, 57), (26, 60), (26, 64), (26, 87), (26, 89), (26, 96), (26, 98), (26, 101), (26, 103), (26, 113), (26, 115), (26, 116), (26, 121), (26, 123), (27, 6), (27, 8), (27, 13), (27, 20), (27, 21), (27, 25), (27, 28), (27, 46), (27, 67), (27, 71), (27, 80), (27, 82), (27, 87), (27, 89), (27, 101), (27, 103), (27, 113), (27, 115), (27, 116), (27, 118), (28, 16), (28, 21), (28, 25), (28, 45), (28, 46), (28, 48), (28, 49), (28, 50), (28, 52), (28, 54), (28, 57), (28, 58), (28, 64), (28, 66), (28, 69), (28, 70), (28, 72), (28, 74), (28, 76), (28, 77), (28, 78), (28, 80), (28, 81), (28, 82), (28, 85), (28, 86), (28, 87), (28, 89), (28, 96), (28, 113), (28, 115), (28, 116), (28, 121), (28, 123), (29, 16), (29, 17), (29, 20), (29, 21), (29, 25), (29, 28), (29, 43), (29, 116), (30, 6), (30, 8), (30, 16), (30, 20), (30, 24), (30, 29), (30, 43), (30, 46), (30, 47), (30, 49), (30, 50), (30, 51), (30, 52), (30, 53), (30, 54), (30, 55), (30, 57), (30, 58), (30, 60), (30, 63), (30, 64), (30, 67), (30, 68), (30, 69), (30, 70), (30, 72), (30, 73), (30, 75), (30, 76), (30, 77), (30, 78), (30, 79), (30, 81), (30, 83), (30, 84), (30, 85), (30, 88), (30, 90), (30, 91), (30, 92), (30, 94), (30, 96), (30, 99), (30, 101), (30, 103), (30, 105), (30, 109), (30, 111), (30, 113), (30, 114), (30, 115), (30, 116), (30, 121), (30, 123), (31, 6), (31, 7), (31, 10), (31, 13), (31, 20), (31, 21), (31, 24), (31, 29), (31, 43), (31, 61), (31, 67), (31, 71), (31, 96), (31, 116), (31, 118), (31, 123), (32, 8), (32, 21), (32, 23), (32, 26), (32, 28), (32, 29), (32, 87), (32, 96), (32, 116), (32, 123), (33, 8), (33, 16), (33, 21), (33, 24), (33, 25), (33, 29), (33, 43), (33, 67), (33, 71), (33, 91), (33, 96), (33, 101), (33, 103), (33, 113), (33, 116), (33, 121), (34, 31), (34, 35), (34, 42), (34, 48), (34, 50), (34, 63), (34, 64), (34, 72), (34, 83), (34, 84), (34, 85), (34, 89), (34, 91), (34, 101), (34, 103), (35, 101), (35, 103), (35, 113), (35, 116), (35, 118), (36, 21), (36, 67), (36, 82), (36, 87), (36, 89), (36, 96), (36, 113), (36, 116), (36, 118), (36, 121), (36, 123), (37, 8), (37, 16), (37, 25), (37, 32), (37, 33), (37, 35), (37, 38), (37, 40), (37, 42), (37, 43), (37, 45), (37, 48), (37, 49), (37, 50), (37, 52), (37, 53), (37, 54), (37, 57), (37, 58), (37, 59), (37, 61), (37, 63), (37, 64), (37, 66), (37, 67), (37, 68), (37, 69), (37, 70), (37, 71), (37, 72), (37, 73), (37, 87), (37, 89), (37, 96), (37, 116), (37, 118), (38, 24), (38, 29), (38, 32), (38, 43), (38, 87), (38, 96), (38, 100), (38, 101), (38, 102), (38, 104), (38, 109), (38, 113), (38, 114), (38, 118), (38, 120), (38, 121), (38, 125), (39, 8), (39, 16), (39, 24), (39, 29), (39, 32), (39, 43), (39, 67), (39, 71), (39, 73), (39, 82), (39, 87), (39, 89), (39, 96), (39, 99), (39, 116), (39, 118), (39, 121), (39, 123), (40, 13), (40, 19), (40, 29), (40, 30), (40, 31), (40, 35), (40, 42), (40, 48), (40, 50), (40, 52), (40, 53), (40, 67), (40, 73), (40, 87), (40, 89), (40, 96), (40, 99), (40, 101), (40, 103), (40, 113), (40, 116), (40, 121), (41, 8), (41, 16), (41, 21), (41, 25), (41, 29), (41, 30), (41, 32), (41, 38), (41, 39), (41, 43), (41, 44), (41, 51), (41, 57), (41, 67), (41, 71), (41, 73), (41, 87), (41, 96), (41, 101), (41, 103), (41, 113), (41, 116), (41, 121), (41, 123), (42, 21), (42, 24), (42, 25), (42, 61), (42, 67), (42, 71), (42, 73), (42, 82), (42, 87), (42, 89), (42, 101), (42, 103), (42, 113), (42, 116), (43, 21), (43, 25), (43, 72), (43, 73), (43, 83), (43, 87), (43, 96), (43, 101), (43, 123), (44, 8), (44, 10), (44, 16), (44, 24), (44, 43), (44, 67), (44, 71), (44, 73), (44, 82), (44, 83), (44, 84), (44, 87), (44, 89), (44, 96), (44, 116), (45, 16), (45, 32), (45, 35), (45, 42), (45, 48), (45, 50), (45, 52), (45, 53), (45, 54), (45, 63), (45, 64), (45, 66), (45, 70), (45, 71), (45, 72), (45, 73), (45, 76), (45, 78), (45, 80), (45, 81), (45, 82), (45, 83), (45, 84), (45, 85), (45, 87), (45, 89), (45, 101), (45, 103), (46, 67), (46, 71), (46, 73), (46, 82), (46, 87), (46, 90), (46, 91), (46, 96), (46, 99), (46, 108), (46, 109), (46, 121), (47, 8), (47, 10), (47, 16), (47, 24), (47, 32), (47, 35), (47, 61), (47, 71), (47, 96), (47, 116), (47, 118), (47, 121), (47, 123), (48, 29), (48, 30), (48, 49), (48, 52), (48, 53), (48, 55), (48, 57), (48, 58), (48, 59), (48, 61), (48, 67), (48, 71), (48, 73), (48, 85), (48, 87), (48, 96), (48, 103), (48, 113), (48, 116), (48, 121), (48, 123), (49, 21), (49, 25), (49, 32), (49, 41), (49, 49), (49, 59), (49, 63), (49, 67), (49, 71), (49, 72), (49, 73), (49, 87), (49, 96), (49, 99), (49, 101), (49, 113), (49, 116), (49, 121), (50, 28), (50, 30), (50, 32), (50, 33), (50, 36), (50, 38), (50, 39), (50, 40), (50, 44), (50, 51), (50, 56), (50, 59), (50, 60), (50, 63), (50, 64), (50, 65), (50, 67), (50, 73), (50, 75), (50, 113), (50, 116), (50, 121), (50, 123), (51, 12), (51, 16), (51, 19), (51, 22), (51, 24), (51, 25), (51, 26), (51, 27), (51, 29), (51, 30), (51, 31), (51, 32), (51, 33), (51, 34), (51, 35), (51, 38), (51, 40), (51, 42), (51, 48), (51, 49), (51, 59), (51, 67), (51, 73), (51, 84), (51, 87), (51, 90), (51, 96), (51, 99), (51, 101), (52, 16), (52, 59), (52, 67), (52, 71), (52, 73), (52, 87), (52, 96), (52, 116), (52, 121), (52, 123), (53, 8), (53, 10), (53, 12), (53, 16), (53, 32), (53, 35), (53, 41), (53, 43), (53, 49), (53, 50), (53, 59), (53, 67), (53, 71), (53, 73), (53, 87), (53, 96), (53, 99), (53, 105), (53, 106), (53, 107), (53, 109), (53, 112), (53, 114), (53, 119), (53, 122), (53, 124), (53, 125), (53, 126), (53, 127), (53, 128), (54, 29), (54, 30), (54, 31), (54, 42), (54, 45), (54, 49), (54, 67), (54, 71), (54, 72), (54, 73), (54, 87), (54, 96), (54, 99), (54, 113), (54, 116), (54, 121), (54, 123), (54, 128), (55, 8), (55, 10), (55, 12), (55, 16), (55, 24), (55, 32), (55, 35), (55, 43), (55, 49), (55, 59), (55, 67), (55, 71), (55, 73), (55, 87), (55, 96), (55, 99), (55, 101), (55, 104), (55, 116), (55, 128), (56, 50), (56, 59), (56, 80), (56, 81), (56, 82), (56, 83), (56, 85), (56, 87), (56, 91), (56, 95), (56, 96), (56, 99), (56, 104), (56, 105), (57, 12), (57, 16), (57, 21), (57, 25), (57, 32), (57, 49), (57, 50), (57, 59), (57, 71), (57, 73), (57, 96), (57, 99), (57, 101), (57, 113), (57, 116), (57, 123), (57, 128), (58, 16), (58, 19), (58, 26), (58, 29), (58, 30), (58, 31), (58, 40), (58, 42), (58, 45), (58, 47), (58, 49), (58, 53), (58, 54), (58, 63), (58, 71), (58, 87), (58, 96), (58, 99), (58, 104), (58, 128), (59, 12), (59, 16), (59, 43), (59, 49), (59, 59), (59, 71), (59, 76), (59, 116), (59, 121), (59, 123), (59, 125), (59, 128), (60, 41), (60, 50), (60, 52), (60, 54), (60, 59), (60, 63), (60, 67), (60, 72), (60, 73), (60, 84), (60, 90), (60, 101), (60, 108), (60, 113), (60, 116), (60, 123), (60, 125), (61, 12), (61, 13), (61, 16), (61, 43), (61, 49), (61, 50), (61, 54), (61, 59), (61, 73), (61, 87), (61, 96), (61, 101), (61, 104), (61, 108), (61, 113), (61, 116), (62, 32), (62, 43), (62, 49), (62, 71), (62, 87), (62, 96), (62, 104), (63, 12), (63, 21), (63, 25), (63, 32), (63, 35), (63, 40), (63, 41), (63, 42), (63, 43), (63, 45), (63, 49), (63, 53), (63, 54), (63, 56), (63, 58), (63, 59), (63, 61), (63, 63), (63, 64), (63, 66), (63, 70), (63, 71), (63, 72), (63, 73), (63, 79), (63, 80), (63, 81), (63, 82), (63, 83), (63, 84), (63, 85), (63, 90), (63, 101), (63, 116), (63, 128), (64, 116), (65, 12), (65, 21), (65, 50), (66, 8), (66, 12), (66, 13), (66, 16), (66, 21), (66, 25), (66, 32), (66, 40), (66, 43), (66, 49), (66, 50), (66, 54), (66, 59), (66, 73), (66, 87), (66, 96), (66, 99), (66, 116), (66, 123), (66, 128), (67, 9), (67, 16), (67, 19), (67, 21), (67, 23), (67, 27), (67, 28), (67, 30), (67, 32), (67, 33), (67, 34), (67, 37), (67, 38), (67, 39), (67, 42), (67, 44), (67, 45), (67, 47), (67, 49), (67, 50), (67, 51), (67, 52), (67, 55), (67, 56), (67, 57), (67, 58), (67, 59), (67, 60), (67, 63), (67, 64), (67, 67), (67, 71), (67, 72), (67, 73), (67, 76), (67, 84), (67, 85), (67, 87), (67, 90), (67, 94), (67, 96), (67, 99), (67, 101), (67, 105), (67, 106), (67, 107), (67, 108), (67, 109), (67, 113), (67, 114), (68, 16), (68, 19), (68, 21), (68, 23), (68, 25), (68, 27), (68, 28), (68, 30), (68, 31), (68, 32), (68, 33), (68, 34), (68, 36), (68, 37), (68, 38), (68, 39), (68, 40), (68, 41), (68, 42), (68, 43), (68, 44), (68, 45), (68, 46), (68, 47), (68, 48), (68, 49), (68, 50), (68, 51), (68, 52), (68, 53), (68, 54), (68, 55), (68, 56), (68, 57), (68, 58), (68, 59), (68, 73), (68, 85), (68, 116), (68, 128), (69, 12), (69, 21), (69, 49), (69, 50), (69, 73), (69, 76), (69, 87), (69, 96), (69, 99), (69, 116), (70, 12), (70, 21), (70, 23), (70, 24), (70, 25), (70, 26), (70, 27), (70, 29), (70, 30), (70, 31), (70, 32), (70, 33), (70, 34), (70, 35), (70, 37), (70, 38), (70, 39), (70, 40), (70, 42), (70, 43), (70, 45), (70, 46), (70, 47), (70, 48), (70, 49), (70, 53), (70, 55), (70, 56), (70, 58), (70, 59), (70, 61), (70, 63), (70, 64), (70, 66), (70, 70), (70, 71), (70, 72), (70, 73), (70, 74), (70, 85), (70, 87), (70, 96), (70, 101), (70, 108), (70, 113), (70, 115), (70, 116), (70, 125), (70, 128), (71, 12), (71, 21), (71, 23), (71, 24), (71, 25), (71, 38), (71, 40), (71, 45), (71, 50), (71, 51), (71, 56), (71, 60), (71, 73), (71, 74), (71, 85), (71, 101), (72, 12), (72, 23), (72, 32), (72, 49), (72, 50), (72, 54), (72, 73), (72, 74), (72, 85), (72, 90), (72, 96), (72, 101), (72, 116), (73, 16), (73, 19), (73, 23), (73, 24), (73, 30), (73, 32), (73, 38), (73, 40), (73, 50), (73, 51), (73, 54), (73, 116), (73, 128), (74, 17), (74, 20), (74, 21), (74, 23), (74, 24), (74, 25), (74, 32), (74, 40), (74, 43), (74, 50), (74, 54), (74, 73), (74, 74), (74, 75), (74, 76), (74, 77), (74, 79), (74, 81), (74, 85), (74, 87), (74, 90), (74, 96), (74, 97), (74, 99), (74, 101), (74, 116), (74, 128), (75, 12), (75, 23), (75, 32), (75, 49), (75, 50), (75, 54), (75, 73), (75, 74), (75, 87), (75, 113), (75, 116), (75, 128), (76, 12), (76, 13), (76, 21), (76, 23), (76, 24), (76, 32), (76, 40), (76, 43), (76, 45), (76, 46), (76, 47), (76, 48), (76, 49), (76, 54), (76, 55), (76, 56), (76, 58), (76, 59), (76, 63), (76, 64), (76, 66), (76, 68), (76, 70), (76, 71), (76, 73), (76, 74), (76, 76), (76, 78), (76, 79), (76, 80), (76, 81), (76, 82), (76, 83), (76, 86), (76, 89), (76, 91), (76, 96), (76, 97), (76, 98), (76, 99), (76, 101), (76, 102), (76, 103), (76, 107), (76, 108), (76, 110), (76, 111), (76, 113), (76, 114), (76, 115), (76, 121), (76, 125), (77, 12), (77, 23), (77, 24), (77, 32), (77, 45), (77, 49), (77, 116), (78, 12), (78, 13), (78, 23), (78, 24), (78, 50), (78, 54), (78, 73), (78, 74), (78, 85), (78, 91), (78, 116), (78, 125), (79, 12), (79, 13), (79, 23), (79, 32), (79, 36), (79, 37), (79, 38), (79, 39), (79, 40), (79, 42), (79, 44), (79, 47), (79, 49), (79, 50), (79, 52), (79, 55), (79, 56), (79, 57), (79, 58), (79, 59), (79, 60), (79, 61), (79, 66), (79, 68), (79, 69), (79, 70), (79, 71), (79, 73), (79, 74), (79, 75), (79, 76), (79, 77), (79, 78), (79, 79), (79, 81), (79, 82), (79, 83), (79, 84), (79, 86), (79, 87), (79, 88), (79, 93), (79, 95), (79, 96), (79, 97), (79, 98), (79, 99), (79, 101), (79, 102), (79, 103), (79, 104), (79, 107), (79, 108), (79, 111), (79, 113), (79, 114), (79, 115), (79, 116), (80, 12), (80, 23), (80, 45), (80, 49), (80, 50), (80, 73), (80, 74), (80, 87), (80, 99), (81, 12), (81, 21), (81, 23), (81, 26), (81, 27), (81, 28), (81, 30), (81, 31), (81, 32), (81, 36), (81, 37), (81, 38), (81, 39), (81, 41), (81, 42), (81, 44), (81, 47), (81, 49), (81, 50), (81, 52), (81, 54), (81, 55), (81, 56), (81, 57), (81, 58), (81, 59), (81, 60), (81, 61), (81, 63), (81, 66), (81, 67), (81, 68), (81, 69), (81, 70), (81, 71), (81, 72), (81, 73), (81, 74), (81, 76), (81, 85), (81, 87), (81, 90), (81, 91), (82, 12), (82, 13), (82, 24), (82, 40), (82, 43), (82, 45), (82, 49), (82, 50), (82, 74), (82, 87), (82, 99), (82, 115), (83, 21), (83, 25), (83, 50), (83, 54), (83, 74), (83, 91), (83, 95), (83, 99), (83, 105), (83, 109), (83, 112), (83, 115), (83, 119), (84, 12), (84, 13), (84, 20), (84, 24), (84, 45), (84, 49), (84, 50), (84, 54), (84, 74), (84, 87), (84, 91), (84, 99), (84, 113), (85, 12), (85, 21), (85, 25), (85, 40), (85, 43), (85, 45), (85, 49), (85, 50), (85, 54), (85, 74), (85, 76), (85, 83), (85, 85), (85, 87), (85, 91), (85, 99), (86, 12), (86, 13), (86, 24), (86, 49), (86, 50), (86, 56), (86, 58), (86, 64), (86, 68), (86, 70), (86, 71), (86, 73), (86, 76), (86, 79), (86, 81), (86, 82), (86, 83), (86, 91), (86, 95), (86, 99), (86, 105), (86, 108), (87, 12), (87, 13), (87, 21), (87, 45), (87, 49), (87, 50), (87, 53), (87, 54), (87, 63), (87, 74), (87, 91), (87, 99), (88, 19), (88, 23), (88, 26), (88, 27), (88, 29), (88, 31), (88, 32), (88, 33), (88, 35), (88, 36), (88, 37), (88, 50), (88, 54), (88, 63), (88, 72), (88, 74), (88, 85), (88, 90), (88, 91), (89, 17), (89, 49), (89, 50), (89, 60), (89, 74), (89, 76), (89, 83), (89, 87), (89, 99), (90, 5), (90, 12), (90, 13), (90, 21), (90, 25), (90, 38), (90, 41), (90, 50), (90, 54), (90, 72), (90, 74), (90, 85), (90, 87), (90, 90), (90, 91), (90, 99), (90, 108), (90, 111), (90, 113), (90, 119), (90, 125), (91, 12), (91, 13), (91, 21), (91, 50), (91, 60), (91, 63), (91, 72), (91, 74), (91, 76), (91, 87), (91, 91), (91, 99), (92, 5), (92, 12), (92, 13), (92, 21), (92, 25), (92, 38), (92, 41), (92, 50), (92, 53), (92, 54), (92, 74), (92, 76), (92, 83), (92, 87), (92, 99), (93, 5), (93, 12), (93, 13), (93, 21), (93, 38), (93, 43), (93, 45), (93, 49), (93, 50), (93, 56), (93, 60), (93, 63), (93, 68), (93, 69), (93, 71), (93, 80), (93, 85), (94, 12), (94, 13), (94, 21), (94, 25), (94, 38), (94, 41), (94, 45), (94, 49), (94, 50), (94, 53), (94, 56), (94, 59), (94, 61), (94, 68), (94, 71), (94, 72), (94, 74), (94, 85), (94, 91), (94, 99), (94, 101), (94, 102), (94, 108), (94, 111), (94, 113), (94, 119), (94, 125), (95, 12), (95, 13), (95, 25), (95, 38), (95, 45), (95, 49), (95, 50), (95, 54), (95, 74), (95, 77), (95, 91), (96, 5), (96, 12), (96, 13), (96, 21), (96, 25), (96, 45), (96, 49), (96, 50), (96, 74), (96, 87), (97, 5), (97, 12), (97, 13), (97, 32), (97, 40), (97, 74), (97, 77), (97, 85), (97, 91), (97, 108), (97, 111), (97, 119), (97, 125), (98, 12), (98, 13), (98, 25), (98, 38), (98, 49), (98, 50), (98, 52), (98, 56), (98, 60), (98, 63), (98, 68), (98, 69), (98, 71), (98, 72), (98, 75), (98, 76), (98, 80), (98, 82), (98, 83), (98, 85), (98, 87), (98, 91), (99, 5), (99, 12), (99, 13), (99, 21), (99, 25), (99, 38), (99, 45), (99, 49), (99, 50), (99, 54), (99, 74), (99, 76), (99, 77), (99, 83), (99, 87), (99, 88), (99, 90), (99, 91), (100, 5), (100, 12), (100, 13), (100, 38), (100, 45), (100, 49), (100, 50), (100, 54), (101, 35), (101, 36), (101, 37), (101, 38), (101, 39), (101, 45), (101, 49), (101, 59), (101, 61), (101, 64), (101, 66), (101, 68), (101, 74), (101, 77), (101, 84), (101, 91), (101, 94), (101, 101), (101, 104), (101, 108), (102, 21), (102, 25), (102, 50), (102, 54), (102, 69), (102, 119), (102, 125), (103, 12), (103, 13), (103, 21), (103, 25), (103, 32), (103, 45), (103, 49), (103, 50), (103, 54), (104, 6), (104, 8), (104, 9), (104, 12), (104, 16), (104, 17), (104, 19), (104, 21), (104, 23), (104, 45), (104, 49), (104, 119), (104, 125), (105, 21), (105, 38), (105, 50), (105, 54), (106, 12), (106, 13), (106, 32), (106, 38), (106, 49), (106, 50), (106, 51), (106, 52), (106, 54), (106, 69), (106, 74), (106, 77), (107, 12), (107, 14), (107, 16), (107, 17), (107, 18), (107, 19), (107, 21), (107, 38), (107, 50), (107, 69), (107, 74), (107, 77), (107, 111), (107, 119), (107, 125), (108, 38), (108, 49), (108, 50), (108, 69), (108, 74), (108, 76), (109, 32), (109, 38), (109, 49), (109, 50), (109, 74), (110, 38), (110, 50), (110, 79), (110, 81), (110, 82), (110, 85), (110, 89), (110, 98), (110, 99), (110, 106), (111, 50), (112, 13), (113, 38), (113, 49), (113, 50), (113, 69), (113, 74), (113, 77), (113, 106), (113, 111), (114, 13), (114, 32), (114, 80), (114, 84), (114, 85), (114, 99), (114, 101), (114, 103), (115, 13), (115, 32), (115, 36), (115, 37), (115, 38), (115, 40), (115, 50), (115, 69), (115, 74), (115, 77), (115, 106), (115, 119), (116, 13), (116, 31), (116, 32), (116, 50), (116, 51), (116, 56), (116, 58), (116, 60), (116, 61), (116, 63), (116, 68), (116, 69), (116, 71), (116, 72), (116, 73), (116, 75), (116, 77), (116, 106), (116, 125), (117, 50), (117, 69), (117, 74), (118, 31), (118, 32), (118, 33), (118, 34), (118, 36), (118, 38), (118, 39), (118, 42), (118, 49), (118, 50), (118, 51), (118, 54), (118, 56), (118, 58), (118, 60), (118, 61), (118, 63), (118, 68), (118, 69), (118, 74), (118, 106), (119, 23), (119, 33), (119, 50), (119, 74), (120, 29), (120, 33), (120, 50), (120, 52), (120, 60), (120, 61), (120, 63), (120, 72), (120, 75), (120, 80), (120, 82), (120, 85), (120, 92), (120, 99), (120, 101), (120, 103), (121, 29), (121, 33), (121, 40), (121, 49), (121, 51), (121, 52), (121, 54), (121, 55), (121, 56), (121, 58), (121, 60), (121, 61), (121, 63), (121, 69), (121, 72), (121, 73), (121, 74), (121, 106), (122, 13), (122, 23), (122, 29), (122, 33), (122, 50), (123, 16), (123, 17), (123, 19), (123, 21), (123, 23), (123, 24), (123, 28), (123, 30), (123, 31), (123, 32), (123, 33), (123, 40), (123, 43), (123, 47), (123, 51), (123, 52), (123, 56), (123, 58), (123, 60), (123, 61), (123, 63), (123, 69), (123, 72), (123, 75), (123, 78), (123, 80), (123, 82), (123, 85), (123, 91), (123, 92), (123, 95), (123, 99), (123, 101), (123, 103), (124, 29), (124, 50), (125, 23), (127, 50), (128, 24), (128, 26), (128, 28), (128, 30), (128, 36), (128, 37), (128, 39), (128, 40), (128, 41), (128, 43), (128, 46), (128, 47), (128, 48), (128, 49), (128, 50), (129, 29)]
for s in sol:
    my_not.append(complex(s[1], s[0]))

def loadInput():
    lines = readInput("input_6.txt")
    area = {}
    start = None
    for y in range(len(lines)):
        for x in range(len(lines[0])):
            if lines[y][x] == ".":
                area[complex(x, y)] = 0
            elif lines[y][x] == "^":
                area[complex(x, y)] = 0
                start = complex(x, y)
            elif lines[y][x] == "#":
                area[complex(x, y)] = 1
    return  area, start

movements = {0: complex(0, -1), 1: complex(1, 0),
             2: complex(0, 1), 3: complex(-1, 0)}

def part1(area, start):
    face = 0
    pos = start
    distincts = set([pos])
    try: 
        while True:
            new_pos = pos + movements[face]
            if area[new_pos] == 1:
                face = (face+1)%4
            else:
                pos = new_pos
                distincts.add((pos))
    except:
        pass
    print (f"🎄 Part 1: {len(distincts)}")
    return distincts

def part2(area, start, path):
    blocks = []
    path = list(path)
    path.remove(start)
    for p in path:
        if p in blocks:
            continue
        area[p] = 1
        face = 0
        pos = start
        turns = set([])
        isloop = False
        try:
            while True:
                new_pos = pos + movements[face]
                if area[new_pos] == 1:
                    face = (face+1)%4
                    if (pos, face) in turns:
                        isloop = True
                        break
                    turns.add((pos, face))
                else:
                    pos = new_pos
        except:
            pass
        if isloop:
            blocks.append(p)
        area[p] = 0

    print (f"🎄🎅 Part 2: {len(blocks)}")

if __name__ == "__main__":
    title = "Day 6: Guard Gallivant"
    sub = "⛄"*(len(title)//2-1+2)

    print()
    print(f" {title} ")
    print(sub) #"⛄⛄⛄⛄⛄⛄⛄⛄⛄⛄⛄⛄⛄")
    
    inputs = loadInput()
    
    t0 = time.time()
    path = part1(*inputs)
    print ("Time: {:.5f}".format(time.time()-t0))
    
    from utils import bcolors
    for y in range(130):
        for x in range(130):
            if complex(x, y) in path:
                print (bcolors.RED+"."+bcolors.ENDC, end="")
            elif inputs[0][complex(x, y)] == 0:
                print (".", end="")
            else:
                print (bcolors.BOLD+"#"+bcolors.ENDC, end="")
        print ("")
    print ("\n")

    t0 = time.time()
    part2(*inputs, path)
    print ("Time: {:.5f}".format(time.time()-t0))
